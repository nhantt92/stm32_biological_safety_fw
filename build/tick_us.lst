ARM GAS  /var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"tick_us.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.tick_delta_time_tick,"ax",%progbits
  16              		.align	1
  17              		.global	tick_delta_time_tick
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	tick_delta_time_tick:
  24              	.LFB66:
  25              		.file 1 "Src/tick_us.c"
   1:Src/tick_us.c **** #include "tick_us.h"
   2:Src/tick_us.c **** 
   3:Src/tick_us.c **** uint32_t tick_delta_time_tick(uint32_t start, uint32_t end)
   4:Src/tick_us.c **** {
  26              		.loc 1 4 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31              	.LVL0:
   5:Src/tick_us.c **** 
   6:Src/tick_us.c ****   uint32_t reload_val = SysTick->VAL - 1;
  32              		.loc 1 6 0
  33 0000 034B     		ldr	r3, .L5
  34 0002 9B68     		ldr	r3, [r3, #8]
   7:Src/tick_us.c ****   uint32_t diff;
   8:Src/tick_us.c ****   if (end > start)
  35              		.loc 1 8 0
  36 0004 8142     		cmp	r1, r0
  37 0006 01D8     		bhi	.L4
   9:Src/tick_us.c ****   {
  10:Src/tick_us.c ****     diff = end - start;
  11:Src/tick_us.c ****   }
  12:Src/tick_us.c ****   else
  13:Src/tick_us.c ****   {
  14:Src/tick_us.c ****     //diff = reload_val - (start - end) + 1;
  15:Src/tick_us.c ****     diff = start - end;
  38              		.loc 1 15 0
  39 0008 401A     		subs	r0, r0, r1
  40              	.LVL1:
  16:Src/tick_us.c ****   }
  17:Src/tick_us.c ****   return diff;
  18:Src/tick_us.c **** }
ARM GAS  /var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s 			page 2


  41              		.loc 1 18 0
  42 000a 7047     		bx	lr
  43              	.LVL2:
  44              	.L4:
  10:Src/tick_us.c ****   }
  45              		.loc 1 10 0
  46 000c 081A     		subs	r0, r1, r0
  47              	.LVL3:
  48 000e 7047     		bx	lr
  49              	.L6:
  50              		.align	2
  51              	.L5:
  52 0010 10E000E0 		.word	-536813552
  53              		.cfi_endproc
  54              	.LFE66:
  56              		.section	.text.tick_expire_us,"ax",%progbits
  57              		.align	1
  58              		.global	tick_expire_us
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  62              		.fpu softvfp
  64              	tick_expire_us:
  65              	.LFB67:
  19:Src/tick_us.c **** 
  20:Src/tick_us.c **** 
  21:Src/tick_us.c **** uint8_t tick_expire_us(uint32_t *last_tick, uint32_t time_us)
  22:Src/tick_us.c **** {
  66              		.loc 1 22 0
  67              		.cfi_startproc
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  70              	.LVL4:
  71 0000 38B5     		push	{r3, r4, r5, lr}
  72              	.LCFI0:
  73              		.cfi_def_cfa_offset 16
  74              		.cfi_offset 3, -16
  75              		.cfi_offset 4, -12
  76              		.cfi_offset 5, -8
  77              		.cfi_offset 14, -4
  78 0002 0546     		mov	r5, r0
  23:Src/tick_us.c ****   uint32_t tickus, end;
  24:Src/tick_us.c ****   time_us *= 72;
  79              		.loc 1 24 0
  80 0004 01EBC101 		add	r1, r1, r1, lsl #3
  81              	.LVL5:
  82 0008 CC00     		lsls	r4, r1, #3
  83              	.LVL6:
  25:Src/tick_us.c ****   end = SysTick->VAL;
  84              		.loc 1 25 0
  85 000a 074B     		ldr	r3, .L11
  86 000c 9868     		ldr	r0, [r3, #8]
  87              	.LVL7:
  26:Src/tick_us.c ****   tickus = tick_delta_time_tick(end, *last_tick);
  88              		.loc 1 26 0
  89 000e 2968     		ldr	r1, [r5]
  90 0010 FFF7FEFF 		bl	tick_delta_time_tick
ARM GAS  /var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s 			page 3


  91              	.LVL8:
  27:Src/tick_us.c ****   //tickus = tick_delta_time_tick(*last_tick, end);
  28:Src/tick_us.c ****   if (tickus < time_us) return 0;
  92              		.loc 1 28 0
  93 0014 8442     		cmp	r4, r0
  94 0016 04D8     		bhi	.L9
  29:Src/tick_us.c ****   *last_tick = SysTick->VAL;
  95              		.loc 1 29 0
  96 0018 034B     		ldr	r3, .L11
  97 001a 9B68     		ldr	r3, [r3, #8]
  98 001c 2B60     		str	r3, [r5]
  30:Src/tick_us.c ****   return 1;
  99              		.loc 1 30 0
 100 001e 0120     		movs	r0, #1
 101              	.LVL9:
 102              	.L8:
  31:Src/tick_us.c **** }
 103              		.loc 1 31 0
 104 0020 38BD     		pop	{r3, r4, r5, pc}
 105              	.LVL10:
 106              	.L9:
  28:Src/tick_us.c ****   *last_tick = SysTick->VAL;
 107              		.loc 1 28 0
 108 0022 0020     		movs	r0, #0
 109              	.LVL11:
 110 0024 FCE7     		b	.L8
 111              	.L12:
 112 0026 00BF     		.align	2
 113              	.L11:
 114 0028 10E000E0 		.word	-536813552
 115              		.cfi_endproc
 116              	.LFE67:
 118              		.section	.text.tick_wait_us,"ax",%progbits
 119              		.align	1
 120              		.global	tick_wait_us
 121              		.syntax unified
 122              		.thumb
 123              		.thumb_func
 124              		.fpu softvfp
 126              	tick_wait_us:
 127              	.LFB68:
  32:Src/tick_us.c **** 
  33:Src/tick_us.c **** void tick_wait_us(uint32_t wait_us)
  34:Src/tick_us.c **** {
 128              		.loc 1 34 0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 8
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              	.LVL12:
 133 0000 10B5     		push	{r4, lr}
 134              	.LCFI1:
 135              		.cfi_def_cfa_offset 8
 136              		.cfi_offset 4, -8
 137              		.cfi_offset 14, -4
 138 0002 82B0     		sub	sp, sp, #8
 139              	.LCFI2:
 140              		.cfi_def_cfa_offset 16
ARM GAS  /var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s 			page 4


 141 0004 0446     		mov	r4, r0
  35:Src/tick_us.c ****   uint32_t start;
  36:Src/tick_us.c **** 
  37:Src/tick_us.c ****   start = SysTick->VAL;
 142              		.loc 1 37 0
 143 0006 054B     		ldr	r3, .L16
 144 0008 9B68     		ldr	r3, [r3, #8]
 145 000a 0193     		str	r3, [sp, #4]
 146              	.LVL13:
 147              	.L14:
  38:Src/tick_us.c ****   while(tick_expire_us(&start, wait_us) == 0);
 148              		.loc 1 38 0 discriminator 1
 149 000c 2146     		mov	r1, r4
 150 000e 01A8     		add	r0, sp, #4
 151 0010 FFF7FEFF 		bl	tick_expire_us
 152              	.LVL14:
 153 0014 0028     		cmp	r0, #0
 154 0016 F9D0     		beq	.L14
  39:Src/tick_us.c **** }
 155              		.loc 1 39 0
 156 0018 02B0     		add	sp, sp, #8
 157              	.LCFI3:
 158              		.cfi_def_cfa_offset 8
 159              		@ sp needed
 160 001a 10BD     		pop	{r4, pc}
 161              	.LVL15:
 162              	.L17:
 163              		.align	2
 164              	.L16:
 165 001c 10E000E0 		.word	-536813552
 166              		.cfi_endproc
 167              	.LFE68:
 169              		.text
 170              	.Letext0:
 171              		.file 2 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/machine/_defau
 172              		.file 3 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_stdint.h"
 173              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 174              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 175              		.file 6 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/lock.h"
 176              		.file 7 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_types.h"
 177              		.file 8 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/lib/gcc/arm-none-eabi/7.2.1/include/
 178              		.file 9 "/usr/local/gcc_arm/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/reent.h"
 179              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 180              		.file 11 "u8g2/csrc/u8x8.h"
 181              		.file 12 "u8g2/csrc/u8g2.h"
 182              		.file 13 "Inc/main.h"
ARM GAS  /var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 tick_us.c
/var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s:16     .text.tick_delta_time_tick:0000000000000000 $t
/var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s:23     .text.tick_delta_time_tick:0000000000000000 tick_delta_time_tick
/var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s:52     .text.tick_delta_time_tick:0000000000000010 $d
/var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s:57     .text.tick_expire_us:0000000000000000 $t
/var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s:64     .text.tick_expire_us:0000000000000000 tick_expire_us
/var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s:114    .text.tick_expire_us:0000000000000028 $d
/var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s:119    .text.tick_wait_us:0000000000000000 $t
/var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s:126    .text.tick_wait_us:0000000000000000 tick_wait_us
/var/folders/rk/zpr83dd14lx588t7kb0yv2b40000gn/T//ccYi3rER.s:165    .text.tick_wait_us:000000000000001c $d

NO UNDEFINED SYMBOLS
